{"ast":null,"code":"import { makeAutoObservable } from 'mobx';\nimport { history, http, setToken, getToken, removeToken } from '@/utils';\nclass KeyStore {\n  constructor() {\n    this.apiKey = getToken() || '';\n    // 设置API密钥并保存到localStorage\n    this.setApiKey = apiKey => {\n      console.log(apiKey);\n      this.apiKey = apiKey;\n      setToken(apiKey);\n    };\n    // 获取当前设置的API密钥（如果已设置）\n    this.getApiKey = () => {\n      return this.apiKey;\n    };\n    // 注销并删除API密钥\n    this.removeApiKey = () => {\n      this.apiKey = '';\n      removeToken();\n      history.push('/login');\n    };\n    makeAutoObservable(this);\n  }\n}\nexport default KeyStore;","map":{"version":3,"names":["makeAutoObservable","history","http","setToken","getToken","removeToken","KeyStore","constructor","apiKey","setApiKey","console","log","getApiKey","removeApiKey","push"],"sources":["C:/Users/94272/Desktop/Job/my-personal_website/beattather/src/store/key.Store.js"],"sourcesContent":["import { makeAutoObservable } from 'mobx';\r\nimport { history, http, setToken, getToken, removeToken } from '@/utils';\r\n\r\nclass KeyStore {\r\n  apiKey = getToken() || '';\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  // 设置API密钥并保存到localStorage\r\n  setApiKey = ( apiKey ) => {\r\n    console.log(apiKey);\r\n    this.apiKey = apiKey;\r\n    setToken(apiKey);\r\n  };\r\n\r\n  // 获取当前设置的API密钥（如果已设置）\r\n  getApiKey = () => {\r\n    return this.apiKey;\r\n  };\r\n\r\n  // 注销并删除API密钥\r\n  removeApiKey = () => {\r\n    this.apiKey = '';\r\n    removeToken();\r\n    history.push('/login');\r\n  };\r\n}\r\n\r\nexport default KeyStore;\r\n"],"mappings":"AAAA,SAASA,kBAAkB,QAAQ,MAAM;AACzC,SAASC,OAAO,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,SAAS;AAExE,MAAMC,QAAQ,CAAC;EAGbC,WAAWA,CAAA,EAAG;IAAA,KAFdC,MAAM,GAAGJ,QAAQ,EAAE,IAAI,EAAE;IAMzB;IAAA,KACAK,SAAS,GAAKD,MAAM,IAAM;MACxBE,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC;MACnB,IAAI,CAACA,MAAM,GAAGA,MAAM;MACpBL,QAAQ,CAACK,MAAM,CAAC;IAClB,CAAC;IAED;IAAA,KACAI,SAAS,GAAG,MAAM;MAChB,OAAO,IAAI,CAACJ,MAAM;IACpB,CAAC;IAED;IAAA,KACAK,YAAY,GAAG,MAAM;MACnB,IAAI,CAACL,MAAM,GAAG,EAAE;MAChBH,WAAW,EAAE;MACbJ,OAAO,CAACa,IAAI,CAAC,QAAQ,CAAC;IACxB,CAAC;IApBCd,kBAAkB,CAAC,IAAI,CAAC;EAC1B;AAoBF;AAEA,eAAeM,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}