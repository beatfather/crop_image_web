{"ast":null,"code":"import { makeAutoObservable } from 'mobx';\nimport { history, http, setToken, getToken, removeToken } from '@/utils';\nclass ApiStore {\n  // 添加新状态以存储模型选择\n\n  constructor() {\n    this.apiKey = getToken() || '';\n    this.selectedModel = '';\n    // 设置API密钥并保存到localStorage\n    this.setApiKey = apiKey => {\n      console.log(apiKey);\n      this.apiKey = apiKey;\n      setToken(apiKey);\n    };\n    // 获取当前设置的API密钥（如果已设置）\n    this.getApiKey = () => {\n      return this.apiKey;\n    };\n    // 注销并删除API密钥\n    this.removeApiKey = () => {\n      this.apiKey = '';\n      removeToken();\n      history.push('/login');\n    };\n    // 设置选定的模型 - 添加此新方法\n    this.setSelectedModel = model => {\n      this.selectedModel = model;\n    };\n    // 获取选定的模型 - 添加此新方法\n    this.getSelectedModel = () => {\n      return this.selectedModel;\n    };\n    makeAutoObservable(this);\n  }\n}\nexport default ApiStore;","map":{"version":3,"names":["makeAutoObservable","history","http","setToken","getToken","removeToken","ApiStore","constructor","apiKey","selectedModel","setApiKey","console","log","getApiKey","removeApiKey","push","setSelectedModel","model","getSelectedModel"],"sources":["C:/Users/94272/Desktop/Job/my-personal_website/beattather/src/store/api.Store.js"],"sourcesContent":["import { makeAutoObservable } from 'mobx';\r\nimport { history, http, setToken, getToken, removeToken } from '@/utils';\r\n\r\nclass ApiStore {\r\n  apiKey = getToken() || '';\r\n  selectedModel = ''; // 添加新状态以存储模型选择\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  // 设置API密钥并保存到localStorage\r\n  setApiKey = ( apiKey ) => {\r\n    console.log(apiKey);\r\n    this.apiKey = apiKey;\r\n    setToken(apiKey);\r\n  };\r\n\r\n  // 获取当前设置的API密钥（如果已设置）\r\n  getApiKey = () => {\r\n    return this.apiKey;\r\n  };\r\n\r\n  // 注销并删除API密钥\r\n  removeApiKey = () => {\r\n    this.apiKey = '';\r\n    removeToken();\r\n    history.push('/login');\r\n  };\r\n\r\n  // 设置选定的模型 - 添加此新方法\r\n  setSelectedModel = ( model ) => {\r\n    this.selectedModel = model;\r\n  };\r\n\r\n  // 获取选定的模型 - 添加此新方法\r\n  getSelectedModel = () => {\r\n    return this.selectedModel;\r\n  };\r\n}\r\n\r\nexport default ApiStore;\r\n"],"mappings":"AAAA,SAASA,kBAAkB,QAAQ,MAAM;AACzC,SAASC,OAAO,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,SAAS;AAExE,MAAMC,QAAQ,CAAC;EAEO;;EAEpBC,WAAWA,CAAA,EAAG;IAAA,KAHdC,MAAM,GAAGJ,QAAQ,EAAE,IAAI,EAAE;IAAA,KACzBK,aAAa,GAAG,EAAE;IAMlB;IAAA,KACAC,SAAS,GAAKF,MAAM,IAAM;MACxBG,OAAO,CAACC,GAAG,CAACJ,MAAM,CAAC;MACnB,IAAI,CAACA,MAAM,GAAGA,MAAM;MACpBL,QAAQ,CAACK,MAAM,CAAC;IAClB,CAAC;IAED;IAAA,KACAK,SAAS,GAAG,MAAM;MAChB,OAAO,IAAI,CAACL,MAAM;IACpB,CAAC;IAED;IAAA,KACAM,YAAY,GAAG,MAAM;MACnB,IAAI,CAACN,MAAM,GAAG,EAAE;MAChBH,WAAW,EAAE;MACbJ,OAAO,CAACc,IAAI,CAAC,QAAQ,CAAC;IACxB,CAAC;IAED;IAAA,KACAC,gBAAgB,GAAKC,KAAK,IAAM;MAC9B,IAAI,CAACR,aAAa,GAAGQ,KAAK;IAC5B,CAAC;IAED;IAAA,KACAC,gBAAgB,GAAG,MAAM;MACvB,OAAO,IAAI,CAACT,aAAa;IAC3B,CAAC;IA9BCT,kBAAkB,CAAC,IAAI,CAAC;EAC1B;AA8BF;AAEA,eAAeM,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}