{"ast":null,"code":"// tokenCountHelper.js\n\nconst tokenCounter = textArray => {\n  const CHINESE_CHARACTER_REGEX = /[\\u4e00-\\u9fff]/;\n\n  // 计算英文单词数量和中文字符数量\n  let totalCount = 0;\n  textArray.forEach(message => {\n    const text = message.content;\n\n    // 计算英文单词数量\n    const wordCount = text.split(/\\s+/).filter(word => !CHINESE_CHARACTER_REGEX.test(word)).length;\n\n    // 计算中文字符数量\n    const chineseCharacterCount = Array.from(text).reduce((count, char) => {\n      if (CHINESE_CHARACTER_REGEX.test(char)) {\n        count += 2;\n      }\n      return count;\n    }, 0);\n    totalCount += wordCount + chineseCharacterCount;\n  });\n  console.log(\"word number\", totalCount);\n  return totalCount;\n};\nexport { tokenCounter };","map":{"version":3,"names":["tokenCounter","textArray","CHINESE_CHARACTER_REGEX","totalCount","forEach","message","text","content","wordCount","split","filter","word","test","length","chineseCharacterCount","Array","from","reduce","count","char","console","log"],"sources":["C:/Users/94272/Desktop/Job/my-personal_website/Roundblock_Takehome/Roundblock_Takehome_front/src/utils/tokenCounter.js"],"sourcesContent":["// tokenCountHelper.js\r\n\r\nconst tokenCounter = (textArray) => {\r\n  const CHINESE_CHARACTER_REGEX = /[\\u4e00-\\u9fff]/;\r\n\r\n  // 计算英文单词数量和中文字符数量\r\n  let totalCount = 0;\r\n  textArray.forEach(message => {\r\n    const text = message.content;\r\n\r\n    // 计算英文单词数量\r\n    const wordCount = text.split(/\\s+/)\r\n      .filter(word => !CHINESE_CHARACTER_REGEX.test(word))\r\n      .length;\r\n\r\n    // 计算中文字符数量\r\n    const chineseCharacterCount = Array.from(text).reduce((count, char) => {\r\n      if (CHINESE_CHARACTER_REGEX.test(char)) {\r\n        count += 2;\r\n      }\r\n      return count;\r\n    }, 0);\r\n\r\n    totalCount += wordCount + chineseCharacterCount;\r\n  });\r\n\r\n  console.log(\"word number\", totalCount);\r\n  return totalCount;\r\n};\r\n\r\nexport { tokenCounter };\r\n"],"mappings":"AAAA;;AAEA,MAAMA,YAAY,GAAIC,SAAS,IAAK;EAClC,MAAMC,uBAAuB,GAAG,iBAAiB;;EAEjD;EACA,IAAIC,UAAU,GAAG,CAAC;EAClBF,SAAS,CAACG,OAAO,CAACC,OAAO,IAAI;IAC3B,MAAMC,IAAI,GAAGD,OAAO,CAACE,OAAO;;IAE5B;IACA,MAAMC,SAAS,GAAGF,IAAI,CAACG,KAAK,CAAC,KAAK,CAAC,CAChCC,MAAM,CAACC,IAAI,IAAI,CAACT,uBAAuB,CAACU,IAAI,CAACD,IAAI,CAAC,CAAC,CACnDE,MAAM;;IAET;IACA,MAAMC,qBAAqB,GAAGC,KAAK,CAACC,IAAI,CAACV,IAAI,CAAC,CAACW,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAK;MACrE,IAAIjB,uBAAuB,CAACU,IAAI,CAACO,IAAI,CAAC,EAAE;QACtCD,KAAK,IAAI,CAAC;MACZ;MACA,OAAOA,KAAK;IACd,CAAC,EAAE,CAAC,CAAC;IAELf,UAAU,IAAIK,SAAS,GAAGM,qBAAqB;EACjD,CAAC,CAAC;EAEFM,OAAO,CAACC,GAAG,CAAC,aAAa,EAAElB,UAAU,CAAC;EACtC,OAAOA,UAAU;AACnB,CAAC;AAED,SAASH,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}