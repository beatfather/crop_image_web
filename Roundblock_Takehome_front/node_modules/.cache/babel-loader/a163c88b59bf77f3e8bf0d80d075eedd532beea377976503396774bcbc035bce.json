{"ast":null,"code":"import { makeAutoObservable } from 'mobx';\nimport { history, http, setToken, getToken, removeToken } from '@/utils';\nclass LoginStore {\n  constructor() {\n    this.token = getToken() || '';\n    this.getToken = async _ref => {\n      let {\n        mobile,\n        code\n      } = _ref;\n      //调用登录接口\n      const res = await http.post('http://geek.itheima.net/v1_0/authorizations', {\n        mobile,\n        code\n      });\n      this.token = res.data;\n      setToken(this.token);\n    };\n    this.logOut = () => {\n      //调用退出接口\n      removeToken();\n      history.push('/login');\n    };\n    makeAutoObservable(this);\n  }\n}\nexport default LoginStore;","map":{"version":3,"names":["makeAutoObservable","history","http","setToken","getToken","removeToken","LoginStore","constructor","token","_ref","mobile","code","res","post","data","logOut","push"],"sources":["C:/Users/94272/Desktop/Job/my-personal_website/beattather/src/store/login.Store.js"],"sourcesContent":["import { makeAutoObservable } from 'mobx'\r\nimport {history, http,setToken,getToken,removeToken} from '@/utils'\r\n\r\nclass LoginStore {\r\n    token = getToken() || ''\r\n    \r\n    constructor() {\r\n        makeAutoObservable(this)\r\n    }\r\n    getToken = async({mobile, code}) => {\r\n        //调用登录接口\r\n        const res = await http.post('http://geek.itheima.net/v1_0/authorizations', {\r\n            mobile, code\r\n        })\r\n        this.token = res.data\r\n        setToken(this.token)\r\n    }\r\n    logOut = () => {\r\n        //调用退出接口\r\n        removeToken()\r\n        history.push('/login')\r\n    }\r\n}\r\nexport default LoginStore"],"mappings":"AAAA,SAASA,kBAAkB,QAAQ,MAAM;AACzC,SAAQC,OAAO,EAAEC,IAAI,EAACC,QAAQ,EAACC,QAAQ,EAACC,WAAW,QAAO,SAAS;AAEnE,MAAMC,UAAU,CAAC;EAGbC,WAAWA,CAAA,EAAG;IAAA,KAFdC,KAAK,GAAGJ,QAAQ,EAAE,IAAI,EAAE;IAAA,KAKxBA,QAAQ,GAAG,MAAAK,IAAA,IAAyB;MAAA,IAAnB;QAACC,MAAM;QAAEC;MAAI,CAAC,GAAAF,IAAA;MAC3B;MACA,MAAMG,GAAG,GAAG,MAAMV,IAAI,CAACW,IAAI,CAAC,6CAA6C,EAAE;QACvEH,MAAM;QAAEC;MACZ,CAAC,CAAC;MACF,IAAI,CAACH,KAAK,GAAGI,GAAG,CAACE,IAAI;MACrBX,QAAQ,CAAC,IAAI,CAACK,KAAK,CAAC;IACxB,CAAC;IAAA,KACDO,MAAM,GAAG,MAAM;MACX;MACAV,WAAW,EAAE;MACbJ,OAAO,CAACe,IAAI,CAAC,QAAQ,CAAC;IAC1B,CAAC;IAdGhB,kBAAkB,CAAC,IAAI,CAAC;EAC5B;AAcJ;AACA,eAAeM,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}