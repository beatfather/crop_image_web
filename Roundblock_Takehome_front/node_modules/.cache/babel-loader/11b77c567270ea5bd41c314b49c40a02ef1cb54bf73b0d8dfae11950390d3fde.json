{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\94272\\\\Desktop\\\\Job\\\\my-personal_website\\\\beattather\\\\src\\\\pages\\\\Home\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './index.scss';\nimport { Bar } from '@/components/Bar';\nimport { Card, Breadcrumb, Form, Input, Upload, Button, message } from 'antd';\nimport { useStore } from '@/store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [form] = Form.useForm();\n  const {\n    keyStore\n  } = useStore();\n\n  // 判断是否已经存有 key\n  const hasApiKey = !!keyStore.apiKey;\n  const apiKeyLabel = hasApiKey ? \"更改你的openAI key\" : \"你的openAI key\";\n  const apiKeyPlaceholder = hasApiKey ? \"请输入新的openAI key\" : \"请输入你的openAI key\";\n  const handleSubmit = async values => {\n    const apiKey = values.title;\n    if (!apiKey) {\n      return message.error('请输入你的openAI key');\n    }\n\n    // 验证Key是否有效\n    try {\n      const response = await fetch('https://api.openai.com/v1/engines/text-davinci-003/completions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${apiKey}`\n        },\n        body: JSON.stringify({\n          prompt: '测试 API Key...',\n          max_tokens: 5\n        })\n      });\n      if (response.status === 200) {\n        message.success('API Key 验证成功！');\n        // Save the validated API key in the KeyStore\n        console.log(apiKey);\n        keyStore.setApiKey(apiKey);\n        console.log(keyStore.apiKey);\n      } else if (response.status === 401) {\n        message.error('API Key 无效，请重试。');\n      } else {\n        message.error('验证 API Key 时发生错误，请稍后再试。');\n      }\n    } catch (error) {\n      message.error('发生错误，请检查网络连接并稍后再试。');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    title: \"\\u9996\\u9875\",\n    children: [/*#__PURE__*/_jsxDEV(Form, {\n      form: form,\n      initialValues: {\n        title: ''\n      },\n      onFinish: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        label: apiKeyLabel,\n        name: \"title\",\n        rules: [{\n          required: true,\n          message: '请输入你的openAI key'\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: apiKeyPlaceholder,\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          htmlType: \"submit\",\n          children: \"\\u9A8C\\u8BC1Key\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\u9996\\u5148\\u975E\\u5E38\\u611F\\u8C22\\u60A8\\u7684\\u4F7F\\u7528\\u3002\\u7531\\u4E8E\\u672C\\u4EBA\\u62D9\\u52A3\\u7684\\u7F16\\u7A0B\\u80FD\\u529B\\u548C\\u6709\\u9650\\u7684\\u7CBE\\u529B\\uFF0C\\u76F8\\u4FE1\\u8BE5\\u7F51\\u7AD9\\u80AF\\u5B9A\\u8FD8\\u6709\\u8BB8\\u591A\\u7684\\u7F3A\\u9677\\u548C\\u6F0F\\u6D1E\\u3002\\u7531\\u4E8E\\u76EE\\u524D\\u8FD8\\u6CA1\\u6709\\u5F00\\u53D1\\u540E\\u7AEF\\u90E8\\u5206\\uFF0C\\u518D\\u52A0\\u4E0AopenAI\\u4E25\\u683C\\u7684api\\u7BA1\\u7406\\u89C4\\u5219\\uFF0C\\u6211\\u65E0\\u6CD5\\u516C\\u5F00\\u81EA\\u5DF1\\u7684api\\uFF0C\\u4E00\\u516C\\u5F00\\u5C31\\u5C01\\u6211\\u7684api\\u3002\\u975E\\u5E38\\u62B1\\u6B49\\u3002\\u4F46\\u662F\\u4F60\\u53EF\\u4EE5\\u79C1\\u4E0B\\u627E\\u6211\\u8981\\u4E00\\u4E2A\\u3002\\u4F46\\u662F\\u6700\\u597D\\u8FD8\\u662F\\u81EA\\u5DF1\\u53BB\\u4E70\\u4E00\\u4E2A\\uFF0C\\u4E0D\\u7136\\u5BB9\\u6613\\u5C01\\u53F7\\u3002\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 151\n      }, this), \"\\u6211\\u76F8\\u4FE1gpt\\u4F1A\\u6380\\u8D77\\u65B0\\u4E00\\u8F6E\\u5DE5\\u4E1A\\u9769\\u547D\\uFF0C\\u8FD9\\u5C06\\u8FDB\\u4E00\\u6B65\\u524A\\u51CF\\u6743\\u5A01\\uFF0C\\u63D0\\u9AD8\\u751F\\u4EA7\\u529B\\uFF0C\\u8FD9\\u662F\\u6FC0\\u52A8\\u4EBA\\u5FC3\\u7684\\u4E00\\u523B\\uFF01\\u5E0C\\u671B\\u6211\\u80FD\\u5C3D\\u7EF5\\u8584\\u4E4B\\u529B\\u53C2\\u4E0E\\u5176\\u4E2D\\uFF0C\\u5E76\\u5E2E\\u52A9\\u66F4\\u591A\\u7684\\u4EBA\\u3002\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 74\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 80\n      }, this), \"\\u4F5C\\u8005\\uFF1A\\u5434\\u6D69\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 14\n      }, this), \"\\u90AE\\u7BB1\\uFF1Awuhaodawang87@gmail.com\\uFF08\\u8FD9\\u662F\\u6211\\u5C0F\\u65F6\\u5019\\u521B\\u5EFA\\u7684\\uFF0C\\u6211\\u77E5\\u9053\\u8FD9\\u770B\\u8D77\\u6765\\u6709\\u70B92\\uFF09\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"svZ0QeP6Dtpn5mVUzfeTGIfM1nM=\", false, function () {\n  return [Form.useForm, useStore];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","Bar","Card","Breadcrumb","Form","Input","Upload","Button","message","useStore","jsxDEV","_jsxDEV","Home","_s","form","useForm","keyStore","hasApiKey","apiKey","apiKeyLabel","apiKeyPlaceholder","handleSubmit","values","title","error","response","fetch","method","headers","body","JSON","stringify","prompt","max_tokens","status","success","console","log","setApiKey","children","initialValues","onFinish","Item","label","name","rules","required","placeholder","style","width","fileName","_jsxFileName","lineNumber","columnNumber","type","htmlType","className","_c","$RefreshReg$"],"sources":["C:/Users/94272/Desktop/Job/my-personal_website/beattather/src/pages/Home/index.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './index.scss';\r\nimport { Bar } from '@/components/Bar';\r\nimport { Card, Breadcrumb, Form, Input, Upload, Button, message } from 'antd';\r\nimport { useStore } from '@/store';\r\n\r\nconst Home = () => {\r\n  const [form] = Form.useForm();\r\n  const { keyStore } = useStore();\r\n\r\n  // 判断是否已经存有 key\r\n  const hasApiKey = !!keyStore.apiKey;\r\n  const apiKeyLabel = hasApiKey ? \"更改你的openAI key\" : \"你的openAI key\";\r\n  const apiKeyPlaceholder = hasApiKey ? \"请输入新的openAI key\" : \"请输入你的openAI key\";\r\n\r\n  const handleSubmit = async (values) => {\r\n    const apiKey = values.title;\r\n\r\n    if (!apiKey) {\r\n      return message.error('请输入你的openAI key');\r\n    }\r\n\r\n    // 验证Key是否有效\r\n    try {\r\n      const response = await fetch('https://api.openai.com/v1/engines/text-davinci-003/completions', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${apiKey}`,\r\n        },\r\n        body: JSON.stringify({\r\n          prompt: '测试 API Key...',\r\n          max_tokens: 5,\r\n        }),\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        message.success('API Key 验证成功！');\r\n        // Save the validated API key in the KeyStore\r\n        console.log(apiKey);\r\n        keyStore.setApiKey(apiKey);\r\n        \r\n        console.log(keyStore.apiKey);\r\n      } else if (response.status === 401) {\r\n        message.error('API Key 无效，请重试。');\r\n      } else {\r\n        message.error('验证 API Key 时发生错误，请稍后再试。');\r\n      }\r\n    } catch (error) {\r\n      message.error('发生错误，请检查网络连接并稍后再试。');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      title=  \r\n          '首页'\r\n    >\r\n      <Form form={form} initialValues={{ title: '' }} onFinish={handleSubmit}>\r\n        <Form.Item\r\n          label={apiKeyLabel}\r\n          name=\"title\"\r\n          rules={[{ required: true, message: '请输入你的openAI key' }]}\r\n        >\r\n          <Input placeholder={apiKeyPlaceholder} style={{ width: '100%' }} />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            验证Key\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n      <div className=\"home-logo\" />\r\n      <div>\r\n        首先非常感谢您的使用。由于本人拙劣的编程能力和有限的精力，相信该网站肯定还有许多的缺陷和漏洞。由于目前还没有开发后端部分，再加上openAI严格的api管理规则，我无法公开自己的api，一公开就封我的api。非常抱歉。但是你可以私下找我要一个。但是最好还是自己去买一个，不然容易封号。<br />\r\n        我相信gpt会掀起新一轮工业革命，这将进一步削减权威，提高生产力，这是激动人心的一刻！希望我能尽绵薄之力参与其中，并帮助更多的人。<br /><br />\r\n        作者：吴浩<br />\r\n        邮箱：wuhaodawang87@gmail.com（这是我小时候创建的，我知道这看起来有点2）\r\n        \r\n        \r\n      </div>\r\n      \r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}