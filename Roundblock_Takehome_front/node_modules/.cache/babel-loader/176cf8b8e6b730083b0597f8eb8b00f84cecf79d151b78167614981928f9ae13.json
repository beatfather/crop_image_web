{"ast":null,"code":"// utils/upload.js\nimport { message } from 'antd';\nconst handleAudioUpload = async (file, audioList, t) => {\n  const isAudio = file.type.startsWith('audio');\n  const maxFileSize = 25 * 1024 * 1024; // 25 MB\n\n  if (isAudio && audioList.length < 1 && file.size <= maxFileSize) {\n    return true;\n  }\n\n  // 如果文件不是音频格式\n  else if (!isAudio) {\n    message.error(t('upload.TypeError'));\n    return false;\n  }\n\n  // 如果已经上传了一个文件\n  else if (audioList.length > 0) {\n    message.warning(t('upload.NumError'));\n    return false;\n  }\n\n  // 如果文件大小超过限制\n  else if (file.size > maxFileSize) {\n    message.error(t('upload.SizeError'));\n    return false;\n  }\n};\nexport { handleAudioUpload };","map":{"version":3,"names":["message","handleAudioUpload","file","audioList","t","isAudio","type","startsWith","maxFileSize","length","size","error","warning"],"sources":["C:/Users/94272/Desktop/Job/my-personal_website/Roundblock_Takehome/Roundblock_Takehome_front/src/utils/processAudio.js"],"sourcesContent":["// utils/upload.js\r\nimport { message } from 'antd';\r\n\r\nconst handleAudioUpload = async (file, audioList, t) => {\r\n  const isAudio = file.type.startsWith('audio');\r\n  const maxFileSize = 25 * 1024 * 1024; // 25 MB\r\n\r\n  if (isAudio && audioList.length < 1 && file.size <= maxFileSize) {\r\n    return true;\r\n  }\r\n\r\n  // 如果文件不是音频格式\r\n  else if (!isAudio) {\r\n    message.error(t('upload.TypeError'));\r\n    return false;\r\n  }\r\n\r\n  // 如果已经上传了一个文件\r\n  else if (audioList.length > 0) {\r\n    message.warning(t('upload.NumError'));\r\n    return false;\r\n  }\r\n  \r\n  // 如果文件大小超过限制\r\n  else if (file.size > maxFileSize) {\r\n    message.error(t('upload.SizeError'));\r\n    return false;\r\n  }\r\n};\r\n\r\n\r\nexport { handleAudioUpload };\r\n"],"mappings":"AAAA;AACA,SAASA,OAAO,QAAQ,MAAM;AAE9B,MAAMC,iBAAiB,GAAG,MAAAA,CAAOC,IAAI,EAAEC,SAAS,EAAEC,CAAC,KAAK;EACtD,MAAMC,OAAO,GAAGH,IAAI,CAACI,IAAI,CAACC,UAAU,CAAC,OAAO,CAAC;EAC7C,MAAMC,WAAW,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;;EAEtC,IAAIH,OAAO,IAAIF,SAAS,CAACM,MAAM,GAAG,CAAC,IAAIP,IAAI,CAACQ,IAAI,IAAIF,WAAW,EAAE;IAC/D,OAAO,IAAI;EACb;;EAEA;EAAA,KACK,IAAI,CAACH,OAAO,EAAE;IACjBL,OAAO,CAACW,KAAK,CAACP,CAAC,CAAC,kBAAkB,CAAC,CAAC;IACpC,OAAO,KAAK;EACd;;EAEA;EAAA,KACK,IAAID,SAAS,CAACM,MAAM,GAAG,CAAC,EAAE;IAC7BT,OAAO,CAACY,OAAO,CAACR,CAAC,CAAC,iBAAiB,CAAC,CAAC;IACrC,OAAO,KAAK;EACd;;EAEA;EAAA,KACK,IAAIF,IAAI,CAACQ,IAAI,GAAGF,WAAW,EAAE;IAChCR,OAAO,CAACW,KAAK,CAACP,CAAC,CAAC,kBAAkB,CAAC,CAAC;IACpC,OAAO,KAAK;EACd;AACF,CAAC;AAGD,SAASH,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}