{"ast":null,"code":"// audioUtils.js\n\nimport { Configuration, OpenAIApi } from 'openai';\nimport FormData from 'form-data';\nclass CustomFormData extends FormData {\n  getHeaders() {\n    return {};\n  }\n}\nconst processAudioFile = async (audioFile, apiKey, createTranscription) => {\n  const configuration = new Configuration({\n    apiKey,\n    formDataCtor: CustomFormData\n  });\n  delete configuration.baseOptions.headers['User-Agent'];\n  const openai = new OpenAIApi(configuration);\n  if (audioFile) {\n    const formData = new FormData();\n    formData.append('file', audioFile, audioFile.name);\n    const audioTranscription = await createTranscription(audioFile, 'whisper-1');\n    return audioTranscription.data.text;\n  }\n};\nexport { processAudioFile };","map":{"version":3,"names":["Configuration","OpenAIApi","FormData","CustomFormData","getHeaders","processAudioFile","audioFile","apiKey","createTranscription","configuration","formDataCtor","baseOptions","headers","openai","formData","append","name","audioTranscription","data","text"],"sources":["C:/Users/94272/Desktop/Job/my-personal_website/beattather/src/utils/processAudio.js"],"sourcesContent":["// audioUtils.js\r\n\r\nimport { Configuration, OpenAIApi } from 'openai';\r\nimport FormData from 'form-data';\r\n\r\nclass CustomFormData extends FormData {\r\n  getHeaders() {\r\n    return {};\r\n  }\r\n}\r\n\r\nconst processAudioFile = async (audioFile, apiKey, createTranscription) => {\r\n  const configuration = new Configuration({\r\n    apiKey,\r\n    formDataCtor: CustomFormData,\r\n  });\r\n\r\n  delete configuration.baseOptions.headers['User-Agent'];\r\n  const openai = new OpenAIApi(configuration);\r\n\r\n  if (audioFile) {\r\n    const formData = new FormData();\r\n    formData.append('file', audioFile, audioFile.name);\r\n\r\n    const audioTranscription = await createTranscription(audioFile, 'whisper-1');\r\n    return audioTranscription.data.text;\r\n  }\r\n};\r\n\r\nexport { processAudioFile };\r\n"],"mappings":"AAAA;;AAEA,SAASA,aAAa,EAAEC,SAAS,QAAQ,QAAQ;AACjD,OAAOC,QAAQ,MAAM,WAAW;AAEhC,MAAMC,cAAc,SAASD,QAAQ,CAAC;EACpCE,UAAUA,CAAA,EAAG;IACX,OAAO,CAAC,CAAC;EACX;AACF;AAEA,MAAMC,gBAAgB,GAAG,MAAAA,CAAOC,SAAS,EAAEC,MAAM,EAAEC,mBAAmB,KAAK;EACzE,MAAMC,aAAa,GAAG,IAAIT,aAAa,CAAC;IACtCO,MAAM;IACNG,YAAY,EAAEP;EAChB,CAAC,CAAC;EAEF,OAAOM,aAAa,CAACE,WAAW,CAACC,OAAO,CAAC,YAAY,CAAC;EACtD,MAAMC,MAAM,GAAG,IAAIZ,SAAS,CAACQ,aAAa,CAAC;EAE3C,IAAIH,SAAS,EAAE;IACb,MAAMQ,QAAQ,GAAG,IAAIZ,QAAQ,EAAE;IAC/BY,QAAQ,CAACC,MAAM,CAAC,MAAM,EAAET,SAAS,EAAEA,SAAS,CAACU,IAAI,CAAC;IAElD,MAAMC,kBAAkB,GAAG,MAAMT,mBAAmB,CAACF,SAAS,EAAE,WAAW,CAAC;IAC5E,OAAOW,kBAAkB,CAACC,IAAI,CAACC,IAAI;EACrC;AACF,CAAC;AAED,SAASd,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}